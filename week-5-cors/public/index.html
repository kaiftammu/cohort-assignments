<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sum Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.6/axios.min.js"></script>
</head>
<body>
    <h1>Sum Calculator</h1>
    
    <label>
        Number A: 
        <input id="numA" type="number" />
    </label>
    <br><br>
    <label>
        Number B:
        <input id="numB" type="number" />
    </label>
    <br><br>
    
    <button id="calcBtn">Calculate Sum</button>
    <h2 id="result"></h2>

    <script>
        const numA = document.getElementById("numA");
        const numB = document.getElementById("numB");
        const resultEl = document.getElementById("result");
        const button = document.getElementById("calcBtn");

        button.addEventListener("click", async () => {
            const a = Number(numA.value);
            const b = Number(numB.value);

            if (Number.isNaN(a) || Number.isNaN(b)) {
                resultEl.innerText = "Please enter valid numbers for A and B";
                return; // stop here if invalid
            }

            try {
                // âœ… fixed URL + inside the event listener
                const res = await axios.post("http://localhost:3000/sum", { a, b });
                resultEl.innerText = "Sum is: " + res.data.sum;
            } catch (err) {
                resultEl.innerText = "Something went wrong!";
                console.error(err); // for debugging
            }
        });
    </script>
</body>
</html>
